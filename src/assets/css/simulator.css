/* src/assets/css/simulator.css */
/* =========================
   SIMULADOR v3 â€” Wizard UX
   - 3 pasos
   - sobrio (dark + glass)
   - SOLO amarillo + verde
   - tablas/expandibles no crecen: scroll fijo
========================= */

.sim3{
  position: relative;
  min-height: 100vh;
  padding: 88px 16px 70px;
  z-index: 1;

  /* tokens */
  --bg: #07090c;
  --panel: rgba(14,16,20,.78);
  --panel2: rgba(14,16,20,.92);

  --text: rgba(246,247,248,.92);
  --muted: rgba(246,247,248,.68);
  --muted2: rgba(246,247,248,.52);

  --border: rgba(255,255,255,.10);
  --border2: rgba(255,255,255,.14);

  --y: #c9ff2f;     /* amarillo-verdoso */
  --ySoft: rgba(201,255,47,.16);
  --g: #56f089;     /* verde sobrio */
  --gSoft: rgba(86,240,137,.14);

  --shadow: 0 22px 70px rgba(0,0,0,.55);
  --shadow2: 0 14px 40px rgba(0,0,0,.45);

  color: var(--text);
}

.sim3__bg{
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(900px 420px at 18% 0%, rgba(255,255,255,.05), transparent 62%),
    radial-gradient(900px 420px at 85% 10%, rgba(255,255,255,.04), transparent 62%),
    radial-gradient(900px 420px at 50% 120%, rgba(255,255,255,.035), transparent 62%),
    linear-gradient(180deg, #050608, #07090c 55%, #050608);
  opacity: 1;
}

/* wrap */
.sim3__wrap{
  max-width: 1220px;
  margin: 0 auto;
  position: relative;
}

/* top header */
.sim3__top{
  display:flex;
  align-items:flex-end;
  justify-content: space-between;
  gap: 20px;
  margin-bottom: 22px;
  flex-wrap: wrap;
}

.sim3__h1{
  margin:0;
  font-size: 42px;
  font-weight: 900;
  letter-spacing: -0.03em;
}
.sim3__sub{
  margin: 8px 0 0;
  color: var(--muted);
  max-width: 720px;
  line-height: 1.55;
  font-size: 13.8px;
}

/* steps */
.sim3__steps{
  display:flex;
  gap: 10px;
  align-items:center;
}
.sim3__step{
  display:flex;
  align-items:center;
  gap: 8px;
  padding: 8px 10px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.03);
  border-radius: 12px;
}
.sim3__stepN{
  width: 22px;
  height: 22px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border-radius: 8px;
  border: 1px solid var(--border2);
  color: var(--muted);
  font-weight: 900;
  font-size: 12px;
}
.sim3__stepT{
  color: var(--muted);
  font-weight: 800;
  font-size: 12px;
  letter-spacing: .02em;
}
.sim3__step.is-active{
  border-color: rgba(201,255,47,.26);
  background: rgba(201,255,47,.06);
}
.sim3__step.is-active .sim3__stepN{
  border-color: rgba(201,255,47,.28);
  color: var(--y);
}
.sim3__step.is-done{
  border-color: rgba(86,240,137,.18);
  background: rgba(86,240,137,.05);
}
.sim3__step.is-done .sim3__stepN{
  border-color: rgba(86,240,137,.22);
  color: var(--g);
}

/* layouts */
.sim3__center{
  display:flex;
  justify-content:center;
  margin-top: 10px;
}
.sim3__grid{
  display:grid;
  grid-template-columns: 1fr 360px;
  gap: 18px;
  align-items:start;
}
.sim3__stack{
  display:grid;
  gap: 14px;
}

/* cards */
.card3{
  border: 1px solid var(--border);
  border-radius: 16px;
  background:
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)),
    var(--panel);
  box-shadow: var(--shadow2);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  padding: 18px;
}

.card3--hero{
  width: min(760px, 100%);
  padding: 22px;
  background:
    radial-gradient(900px 420px at 15% 0%, rgba(201,255,47,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)),
    var(--panel2);
  box-shadow: var(--shadow);
}

.card3__kicker{
  color: var(--muted2);
  font-weight: 900;
  font-size: 11px;
  letter-spacing: .14em;
  text-transform: uppercase;
}

.card3__title{
  margin-top: 10px;
  font-size: 22px;
  font-weight: 950;
  letter-spacing: -0.02em;
}

.card3__p{
  margin: 10px 0 0;
  color: var(--muted);
  line-height: 1.6;
  font-size: 14px;
}

.card3__fine{
  margin-top: 14px;
  color: var(--muted2);
  font-size: 11.5px;
  line-height: 1.4;
}

.card3__head{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 14px;
  flex-wrap: wrap;
}

.card3__titleSm{
  font-size: 13px;
  font-weight: 900;
  letter-spacing: .12em;
  text-transform: uppercase;
}
.card3__subSm{
  margin-top: 6px;
  font-size: 12.5px;
  color: var(--muted);
  line-height: 1.45;
}

.card3__actions{
  margin-top: 16px;
  display:flex;
  gap: 12px;
  flex-wrap: wrap;
}
.card3__actionsRow{
  margin-top: 16px;
  display:flex;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

/* buttons */
.btn3{
  height: 46px;
  padding: 0 16px;
  border-radius: 12px;
  border: 1px solid transparent;
  cursor:pointer;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
  font-weight: 900;
  font-size: 13.5px;
  letter-spacing: .02em;
  transition: transform .14s ease, background .14s ease, border-color .14s ease, box-shadow .14s ease, color .14s ease;
}
.btn3:active{ transform: translateY(1px); }

.btn3--primary{
  background: linear-gradient(180deg, rgba(201,255,47,.98), rgba(201,255,47,.82));
  color: #0a0c10;
  border-color: rgba(201,255,47,.30);
  box-shadow: 0 18px 50px rgba(201,255,47,.10);
}
.btn3--primary:hover{
  box-shadow: 0 18px 56px rgba(201,255,47,.14);
  transform: translateY(-1px);
}
.btn3--primary:disabled{
  opacity: .55;
  cursor: not-allowed;
  transform: none;
}

.btn3--ghost{
  background: rgba(255,255,255,.03);
  border-color: rgba(255,255,255,.12);
  color: var(--text);
}
.btn3--ghost:hover{
  border-color: rgba(255,255,255,.18);
  background: rgba(255,255,255,.05);
  transform: translateY(-1px);
}

/* small badge */
.miniBadge{
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  color: var(--muted);
}

/* toggles row */
.togRow{
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 16px;
}
.tog{
  display:inline-flex;
  gap: 12px;
  padding: 8px 10px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  border-radius: 12px;
}
.tog__btn{
  border: 0;
  background: transparent;
  padding: 6px 0;
  color: var(--muted);
  cursor:pointer;
  font-weight: 900;
  font-size: 12.5px;
  letter-spacing: .02em;
  position: relative;
}
.tog__btn::after{
  content:"";
  position:absolute;
  left: 0;
  right: 0;
  bottom: -6px;
  height: 1px;
  background: rgba(255,255,255,.20);
  opacity: 0;
  transform: scaleX(.75);
  transform-origin: left;
  transition: opacity .14s ease, transform .16s ease, background .14s ease;
}
.tog__btn:hover{
  color: var(--y);
}
.tog__btn:hover::after{
  opacity: 1;
  transform: scaleX(1);
  background: var(--y);
}
.tog__btn.is-on{
  color: var(--text);
}
.tog__btn.is-on::after{
  opacity: 1;
  transform: scaleX(1);
  background: var(--y);
}

/* form grid */
.formGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}
.field3{
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  background: rgba(255,255,255,.03);
  padding: 12px;
}
.field3--wide{
  grid-column: 1 / -1;
}
.field3__top{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
}
.field3__label{
  color: var(--muted);
  font-weight: 900;
  font-size: 12px;
  letter-spacing: .08em;
  text-transform: uppercase;
}
.field3__val{
  color: var(--text);
  font-weight: 900;
  font-size: 13px;
}

.range3{
  width: 100%;
  margin-top: 10px;
  appearance: none;
  height: 5px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(201,255,47,.90), rgba(255,255,255,.18));
  outline: none;
}
.range3::-webkit-slider-thumb{
  appearance:none;
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: var(--y);
  border: 2px solid #050608;
  box-shadow: 0 0 18px rgba(201,255,47,.22);
  cursor:pointer;
}
.range3::-moz-range-thumb{
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: var(--y);
  border: 2px solid #050608;
  box-shadow: 0 0 18px rgba(201,255,47,.22);
  cursor:pointer;
}

.field3__row{
  margin-top: 10px;
  display:flex;
  gap: 10px;
  align-items:center;
}
.num3{
  width: 100%;
  height: 40px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(10,12,15,.55);
  color: var(--text);
  padding: 0 12px;
  font-weight: 800;
  outline: none;
}
.num3:focus{
  border-color: rgba(201,255,47,.22);
  box-shadow: 0 0 0 3px rgba(201,255,47,.10);
}
.hint3{
  color: var(--muted2);
  font-size: 12px;
  font-weight: 800;
}

/* plazo buttons */
.pillRow{
  margin-top: 10px;
  display:flex;
  flex-wrap: wrap;
  gap: 8px;
}
.pillBtn{
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  color: var(--muted);
  border-radius: 12px;
  padding: 8px 10px;
  font-weight: 900;
  font-size: 12px;
  cursor:pointer;
  transition: transform .14s ease, border-color .14s ease, background .14s ease, color .14s ease;
}
.pillBtn:hover{
  color: var(--y);
  border-color: rgba(201,255,47,.20);
  transform: translateY(-1px);
}
.pillBtn.is-on{
  color: #0a0c10;
  background: linear-gradient(180deg, rgba(201,255,47,.98), rgba(201,255,47,.82));
  border-color: rgba(201,255,47,.28);
}

/* side card */
.card3--side{
  position: sticky;
  top: 92px;
}
.kv{
  display:flex;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.kv__k{
  color: var(--muted);
  font-size: 12.5px;
  font-weight: 800;
}
.kv__v{
  color: var(--text);
  font-size: 13px;
  font-weight: 950;
}
.t-good{ color: var(--g) !important; }
.t-warn{ color: var(--y) !important; }

.scoreBar{
  margin-top: 12px;
  position: relative;
  height: 10px;
  border-radius: 999px;
  overflow:hidden;
  background: rgba(255,255,255,.10);
}
.scoreBar__line{
  position:absolute;
  inset:0;
  background: linear-gradient(90deg, rgba(201,255,47,.25), rgba(86,240,137,.22));
  opacity: .6;
}
.scoreBar__fill{
  position:absolute;
  inset:0;
  width: 50%;
  background: linear-gradient(90deg, rgba(201,255,47,.85), rgba(86,240,137,.85));
  transform-origin: left center;
}
.scoreText{
  margin-top: 10px;
  color: var(--muted);
  font-size: 12.5px;
  line-height: 1.4;
}
.sideNote{
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,.08);
  color: var(--muted2);
  font-size: 12px;
  line-height: 1.45;
}

/* status pill (but sober) */
.status3{
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  border-radius: 12px;
  padding: 10px 12px;
  text-align: right;
  min-width: 160px;
}
.status3__k{
  display:block;
  font-size: 11px;
  color: var(--muted2);
  font-weight: 900;
  letter-spacing: .10em;
  text-transform: uppercase;
}
.status3__v{
  display:block;
  margin-top: 4px;
  font-weight: 950;
  font-size: 14px;
}
.status3.is-good{
  border-color: rgba(86,240,137,.18);
  background: rgba(86,240,137,.05);
}
.status3.is-warn{
  border-color: rgba(201,255,47,.18);
  background: rgba(201,255,47,.05);
}

/* KPI row */
.kpi3{
  margin-top: 6px;
  display:grid;
  grid-template-columns: repeat(4, minmax(0,1fr));
  gap: 10px;
}
.kpi3__item{
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  border-radius: 14px;
  padding: 12px;
}
.kpi3__k{
  color: var(--muted2);
  font-size: 11px;
  font-weight: 900;
  letter-spacing: .10em;
  text-transform: uppercase;
}
.kpi3__v{
  margin-top: 10px;
  font-size: 18px;
  font-weight: 950;
  color: var(--text);
}
.kpi3__s{
  margin-top: 6px;
  color: var(--muted);
  font-size: 12px;
  line-height: 1.4;
}

/* summary chips */
.sum3{
  margin-top: 12px;
  display:flex;
  flex-wrap: wrap;
  gap: 10px;
}
.sum3 span{
  font-size: 12px;
  color: var(--muted);
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  border-radius: 12px;
  padding: 8px 10px;
}

/* table fixed height: no crecer */
.table3{
  margin-top: 14px;
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  overflow: hidden;
  max-height: 320px;
  overflow-y: auto;
  background: rgba(10,12,15,.35);
}
.table3 table{
  width: 100%;
  border-collapse: collapse;
}
.table3 thead th{
  position: sticky;
  top: 0;
  background:
    linear-gradient(180deg, rgba(201,255,47,.06), rgba(10,12,15,.92));
  color: rgba(246,247,248,.86);
  font-size: 11px;
  font-weight: 900;
  letter-spacing: .10em;
  text-transform: uppercase;
  padding: 10px 12px;
}
.table3 tbody td{
  padding: 10px 12px;
  border-bottom: 1px solid rgba(255,255,255,.06);
  font-size: 12.5px;
  color: rgba(246,247,248,.86);
}
.table3 tbody tr:nth-child(odd) td{
  background: rgba(255,255,255,.02);
}
.table3 tbody tr:hover td{
  background: rgba(201,255,47,.06);
}

.fine3{
  margin-top: 10px;
  color: var(--muted2);
  font-size: 11.5px;
  line-height: 1.45;
}

.card3--miniNote{
  background:
    radial-gradient(900px 420px at 15% 0%, rgba(86,240,137,.10), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)),
    var(--panel);
}
.miniActions{
  margin-top: 12px;
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* responsive */
@media (max-width: 980px){
  .sim3__grid{
    grid-template-columns: 1fr;
  }
  .card3--side{
    position: static;
  }
  .kpi3{
    grid-template-columns: repeat(2, minmax(0,1fr));
  }
}
@media (max-width: 560px){
  .sim3__h1{ font-size: 34px; }
  .formGrid{ grid-template-columns: 1fr; }
  .kpi3{ grid-template-columns: 1fr; }
}

/* focus */
.btn3:focus-visible,
.tog__btn:focus-visible,
.pillBtn:focus-visible,
.num3:focus-visible{
  outline: 2px solid rgba(201,255,47,.22);
  outline-offset: 2px;
  border-radius: 12px;
}
